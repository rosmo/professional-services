(source.total_memory.within_percentage(target.total_memory, 10) ? 10.0 : 0.0) 	        +
(source.total_memory.within_percentage(target.total_memory, 20) ? 5.0 : 0.0) 	        +
(source.total_memory.within_percentage(target.total_memory, 40) ? 2.5 : 0.0) 	        +
(source.total_vcpus.within_percentage(target.total_vcpus, 10) ? 10.0 : 0.0) 	        +
(source.total_vcpus.within_percentage(target.total_vcpus, 20) ? 5.0 : 0.0) 		        +
(source.total_vcpus.within_percentage(target.total_vcpus, 40) ? 2.5 : 0.0)		        +
(source.total_gpus > 0 ? (source.total_gpus == target.total_gpus && gpu_map[source.gpu_type] == target.gpu_type ? 20.0 : -20.0) : 0.0) +
{ "e2" : 4.0, "n2d": 3.0, "n2": 2.0, "t2d": 1.0, "m2": 2.0, "m1": 1.0, "c2": 1.0, "a2" : 1.0, "n1": 0.0, "g1": 0.0, "f1": 0.0 }[target.family]
